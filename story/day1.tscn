[gd_scene load_steps=3 format=3 uid="uid://ct6362a458c6s"]

[ext_resource type="Script" uid="uid://byfsteivtt8ak" path="res://scripts/StoryNode.gd" id="1_7amp7"]
[ext_resource type="Script" uid="uid://bnojy1tfv5ys" path="res://scripts/CheckNode.gd" id="2_0viuc"]

[node name="Start the Story" type="Node"]
script = ExtResource("1_7amp7")
text = "Salary girl wakes up to the ringing of her alarm. The sky outside is dark."
choices = Array[String](["Snooze that alarm.", "Get up.", "Probability Test"])

[node name="Snooze Alarm" type="Node" parent="."]
script = ExtResource("1_7amp7")
text = "Salary girl hits the snooze button. Another 5 minutes, please."
jumpToNode = "Snooze Alarm/Second Alarm"

[node name="Second Alarm" type="Node" parent="Snooze Alarm"]
script = ExtResource("1_7amp7")
text = "After what feels like seconds, the alarm rings again. Ueuuughhhh."

[node name="Snooze Alarm Again" type="Node" parent="Snooze Alarm/Second Alarm"]
script = ExtResource("1_7amp7")
text = "Salary girl sleeps through the workday, and get fired.

END"

[node name="Get Up Late" type="Node" parent="Snooze Alarm/Second Alarm"]
script = ExtResource("1_7amp7")
text = "Salary girl drags herself out of bed, and checks the time. 7:45am: She is running late."

[node name="Choose Food" type="Node" parent="Snooze Alarm/Second Alarm/Get Up Late"]
script = ExtResource("1_7amp7")
text = "Salary girl grabs some food to eat as she runs out the door"

[node name="Bread" type="Node" parent="Snooze Alarm/Second Alarm/Get Up Late/Choose Food"]
script = ExtResource("1_7amp7")
text = "While Salary girl runs to work, she reflects on how she could have taken her car. C'est la vie."
jumpToNode = "Snooze Alarm/Second Alarm/Get Up Late/Choose Food/Puppy"

[node name="Mac n Cheese" type="Node" parent="Snooze Alarm/Second Alarm/Get Up Late/Choose Food"]
script = ExtResource("1_7amp7")
text = "While Salary girl runs to work, she reflects on how she could have taken her car. C'est la vie."
jumpToNode = "Snooze Alarm/Second Alarm/Get Up Late/Choose Food/Puppy"

[node name="Eggs" type="Node" parent="Snooze Alarm/Second Alarm/Get Up Late/Choose Food"]
script = ExtResource("1_7amp7")
text = "While Salary girl runs to work, she reflects on how she could have taken her car. C'est la vie."
jumpToNode = "Snooze Alarm/Second Alarm/Get Up Late/Choose Food/Puppy"

[node name="Puppy" type="Node" parent="Snooze Alarm/Second Alarm/Get Up Late/Choose Food"]
script = ExtResource("1_7amp7")
text = "Salary girl happens upon a puppy, looking so hungry."

[node name="Feed" type="Node" parent="Snooze Alarm/Second Alarm/Get Up Late/Choose Food/Puppy"]
script = ExtResource("1_7amp7")
text = "The puppy smiles at Salary girl. Her tummy rumbles."
jumpToNode = "Get to Work"

[node name="Don\'t Feed" type="Node" parent="Snooze Alarm/Second Alarm/Get Up Late/Choose Food/Puppy"]
script = ExtResource("1_7amp7")
text = "The puppy frowns. He'll probably be OK, though."
jumpToNode = "Get to Work"

[node name="Get Up" type="Node" parent="."]
script = ExtResource("1_7amp7")
text = "Salary girl emerges from bed. Rays of light creep into her room. After getting ready, she gets in her car to drive to work."
jumpToNode = "Get Up/Cyclist"

[node name="Cyclist" type="Node" parent="Get Up"]
script = ExtResource("1_7amp7")
text = "While driving, a cyclist skitters around Salary girl's car like a spider."

[node name="Hit Cyclist" type="Node" parent="Get Up/Cyclist"]
script = ExtResource("1_7amp7")
text = "Salary girl veers into the cyclist, and he's trampled beneath the wheels of her 2009 Toyota Camry."
jumpToNode = "Get Up/Cyclist/Hit Cyclist/Check to Avoid Police"

[node name="Check to Avoid Police" type="Node" parent="Get Up/Cyclist/Hit Cyclist"]
script = ExtResource("2_0viuc")
prob_dist = Array[float]([0.0, 0.0])
metadata/_custom_type_script = "uid://bnojy1tfv5ys"

[node name="Jail" type="Node" parent="Get Up/Cyclist/Hit Cyclist/Check to Avoid Police"]
script = ExtResource("1_7amp7")
text = "Someone calls the police, and Salary girl is swiftly arrested. She goes to jail."
jumpToNode = "Game Over"

[node name="Avoid Jail" type="Node" parent="Get Up/Cyclist/Hit Cyclist/Check to Avoid Police"]
script = ExtResource("1_7amp7")
text = "No one happens to notice. Yay!"
jumpToNode = "Get to Work"

[node name="Avoid Cyclist" type="Node" parent="Get Up/Cyclist"]
script = ExtResource("1_7amp7")
text = "Salary girl uses her patience and good nature to not hit the cyclist. The rest of the drive to work is uneventful."
jumpToNode = "Get to Work"

[node name="Check Probability Test" type="Node" parent="."]
script = ExtResource("2_0viuc")
paths = Array[String](["Check Probability Test/Heads", "Check Probability Test/Tails"])
prob_dist = Array[float]([0.5, 0.5])
metadata/_custom_type_script = "uid://bnojy1tfv5ys"

[node name="Heads" type="Node" parent="Check Probability Test"]
script = ExtResource("1_7amp7")
text = "You got heads"
jumpToNode = "."
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="Tails" type="Node" parent="Check Probability Test"]
script = ExtResource("1_7amp7")
text = "You got tails"
jumpToNode = "."
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="Hidden and Grayed Options" type="Node" parent="."]
script = ExtResource("1_7amp7")
choices = Array[String](["A", "[Money > 30] B", "[Karma > 0] C", "[Shovel] D", "[Egg] E"])
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="A" type="Node" parent="Hidden and Grayed Options"]
script = ExtResource("1_7amp7")
text = "You picked option A"
jumpToNode = "."
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="B" type="Node" parent="Hidden and Grayed Options"]
script = ExtResource("1_7amp7")
text = "You picked option B"
jumpToNode = "."
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="C" type="Node" parent="Hidden and Grayed Options"]
script = ExtResource("1_7amp7")
text = "You picked option C"
jumpToNode = "."
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="D" type="Node" parent="Hidden and Grayed Options"]
script = ExtResource("1_7amp7")
text = "You picked option D"
jumpToNode = "."
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="E" type="Node" parent="Hidden and Grayed Options"]
script = ExtResource("1_7amp7")
text = "You picked option E"
jumpToNode = "."
metadata/_custom_type_script = "uid://byfsteivtt8ak"

[node name="Get to Work" type="Node" parent="."]
script = ExtResource("1_7amp7")
text = "Salary girl makes it to work."
jumpToNode = "Get to Work/Meeting Sharon"

[node name="Meeting Sharon" type="Node" parent="Get to Work"]
script = ExtResource("1_7amp7")
text = "Sharon complains about her kids, by the printer."

[node name="Endure It" type="Node" parent="Get to Work/Meeting Sharon"]
script = ExtResource("1_7amp7")
text = "Salary girl endures the woman's torrent."
mental_health = -1
jumpToNode = "Get to Work/Meeting Sharon/Computer Time"

[node name="Help Her" type="Node" parent="Get to Work/Meeting Sharon"]
script = ExtResource("1_7amp7")
text = "Salary girl listens to Sharon describe her sons' rectal problems. Salary girl musters up words of support for Sharon and her kin.
SIGNAL: SHARON'LL REMEMBER IT"
mental_health = -2
karma = 1
jumpToNode = "Get to Work/Meeting Sharon/Computer Time"

[node name="Brush Off" type="Node" parent="Get to Work/Meeting Sharon"]
script = ExtResource("1_7amp7")
text = "As Sharon tries to pronounce syphillis, Salary girl stutters some words about being quite busy, and stumbles away.
SIGNAL: SHARON'LL REMEMBER IT"
karma = -5
jumpToNode = "Get to Work/Meeting Sharon/Computer Time"

[node name="Offer Mouthfood" type="Node" parent="Get to Work/Meeting Sharon"]
script = ExtResource("1_7amp7")
text = "Salary girl yanks the {whatever food was chosen} from her mouth and offers it up to Sharon.

At first, she's stunned."
karma = 10

[node name="No Carbs" type="Node" parent="Get to Work/Meeting Sharon/Offer Mouthfood"]
script = ExtResource("1_7amp7")
text = "\"..... I don't eat carbs.\"

The rejection stings"
mental_health = -1
jumpToNode = "Get to Work/Meeting Sharon/Computer Time"

[node name="Thanks" type="Node" parent="Get to Work/Meeting Sharon/Offer Mouthfood"]
script = ExtResource("1_7amp7")
text = "\"ouh um hey thansk! i was actualy hungry\"
SIGNAL: SHARON'LL REMEMBER THAT"
mental_health = 2
jumpToNode = "Get to Work/Meeting Sharon/Computer Time"

[node name="Computer Time" type="Node" parent="Get to Work/Meeting Sharon"]
script = ExtResource("1_7amp7")
text = "Computer time. whacha doing?"

[node name="Search" type="Node" parent="Get to Work/Meeting Sharon/Computer Time"]
script = ExtResource("1_7amp7")
text = "Ok buddy. What do you want to search for?"

[node name="Current Events" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Search"]
script = ExtResource("1_7amp7")
text = "Salary girl scrolls through the news. It's not good."
mental_health = -3
jumpToNode = "Get to Work/Meeting Sharon/Computer Time/Search/Popup"

[node name="Heartwarming Vids" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Search"]
script = ExtResource("1_7amp7")
text = "A blind monkey learns to love. A mouse gets a succesful louse transplant. "
mental_health = 2
jumpToNode = "Get to Work/Meeting Sharon/Computer Time/Search/Popup"

[node name="Bomb" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Search"]
script = ExtResource("1_7amp7")
text = "Salary girl learns how to build a bomb. She will need 1 kg of magnesium surfaldihyde, to 4 kg of liquid nitrogen."
jumpToNode = "Get to Work/Meeting Sharon/Computer Time/Search/Popup"

[node name="Popup" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Search"]
script = ExtResource("1_7amp7")
text = "A popup hits the screen

\"Make money fast? It can be you\""

[node name="Win" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Search"]
script = ExtResource("1_7amp7")
text = "It's not a scam. hoorah. $200 earned"
money = 200
jumpToNode = "Lunch"

[node name="Virus" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Search"]
script = ExtResource("1_7amp7")
text = "BZZdD. Salary girl hears the crackle of electricity in the air, as the screens in her office all turn red. Computer virus."
jumpToNode = "Disciplinary Meeting"

[node name="Game" type="Node" parent="Get to Work/Meeting Sharon/Computer Time"]
script = ExtResource("1_7amp7")
text = "MAKE THIS NODE INTO A REAL GAME."

[node name="Suspicion" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Game"]
script = ExtResource("1_7amp7")
text = "Salary girl's manager, Gina, walks past her desk.

(50/50 chance to go to discilpinary meeting or lunch)"

[node name="Caught" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Game/Suspicion"]
script = ExtResource("1_7amp7")
text = "Gina makes a loud ass grunt, and Salary girl whips her head around.

\"Disciplinary meeting, now!\""
jumpToNode = "Disciplinary Meeting"

[node name="Not Caught" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Game/Suspicion"]
script = ExtResource("1_7amp7")
text = "Gina walks by, none the wiser. A smirk curls onto Salary girl's nice face."
jumpToNode = "Lunch"

[node name="Mail" type="Node" parent="Get to Work/Meeting Sharon/Computer Time"]
script = ExtResource("1_7amp7")
text = "Who are u emailing?"

[node name="Sharon" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail"]
script = ExtResource("1_7amp7")
text = "To: Sharon Welks

TEXT ENTRY BOX!!"
jumpToNode = "Get to Work/Meeting Sharon/Computer Time/Mail/Sharon/Sharon Reply"

[node name="Sharon Reply" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail/Sharon"]
script = ExtResource("1_7amp7")
text = "Reply from sharon, based on likedBySharon gamestate."
jumpToNode = "Lunch"

[node name="Gina" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail"]
script = ExtResource("1_7amp7")
text = "To: Gina Olsen

TEXT ENTRY BOX!!"
jumpToNode = "Get to Work/Meeting Sharon/Computer Time/Mail/Gina/Gina Reply"

[node name="Gina Reply" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail/Gina"]
script = ExtResource("1_7amp7")
text = "Reply from gina. based on the tone/content, you can get a raise, improve standing with gina, or need to go for a disciplinary meeeting right now."

[node name="golunch" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail/Gina/Gina Reply"]
script = ExtResource("1_7amp7")
text = "You head to the lunchroom
"
jumpToNode = "Lunch"

[node name="gomeeting" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail/Gina/Gina Reply"]
script = ExtResource("1_7amp7")
text = "You head to the discipline room."
jumpToNode = "Disciplinary Meeting"

[node name="Godwin" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail"]
script = ExtResource("1_7amp7")
text = "To: Godwin Voss

TEXT ENTRY BOX!!"
jumpToNode = "Get to Work/Meeting Sharon/Computer Time/Mail/Godwin/Godwin Reply"

[node name="Godwin Reply" type="Node" parent="Get to Work/Meeting Sharon/Computer Time/Mail/Godwin"]
script = ExtResource("1_7amp7")
text = "Reply from Godwin. He'll say some weird shit, and you'll improve standing with him no matter what you say"
jumpToNode = "Lunch"

[node name="Disciplinary Meeting" type="Node" parent="."]
script = ExtResource("1_7amp7")
text = "You open the mailbox.  Inside is a pile of junk mail from a different game entirely."

[node name="Lunch" type="Node" parent="."]
script = ExtResource("1_7amp7")
text = "You open the mailbox.  Inside is a pile of junk mail from a different game entirely."

[node name="End of Work" type="Node" parent="."]
script = ExtResource("1_7amp7")
text = "You open the mailbox.  Inside is a pile of junk mail from a different game entirely."

[node name="Game Over" type="Node" parent="."]
script = ExtResource("1_7amp7")
metadata/_custom_type_script = "uid://byfsteivtt8ak"
